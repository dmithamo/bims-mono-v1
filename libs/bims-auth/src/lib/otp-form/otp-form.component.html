<div class="h-full flex flex-col px-4 py-8">
  <div
    class="bg-bgcolor-light flex flex-col justify-start gap-8 w-full sm:w-[400px] h-[325px] p-6 mx-auto shadow rounded-md border border-black/10"
  >
    <div class="flex flex-col place-items-start gap-2 w-full">
      <h2 class="text-2xl">Verify your account</h2>
      <p class="text-sm opacity-75">
        Enter the one-time password sent to
        <span class="mx-1 underline underline-offset-4">{{
          usernameVisible
        }}</span>
        to continue
      </p>
    </div>

    <form class="flex flex-col gap-10 w-full">
      <label for="otp" class="flex flex-col gap-1 place-items-start w-full">
        <p class="text-sm font-semibold">OTP</p>
        <div class="w-full flex place-items-center justify-between mt-1">
          @for (_ of getOtpFieldsArray(); track $index) {
          <input
            [name]="'otp-' + $index"
            [id]="'otp-' + $index"
            class="inline-block w-14 h-14 rounded bg-slate-50 border border-slate-300 focus:bg-white focus:border focus:border-black focus:outline-none disabled:bg-slate-50 invalid:border-red-500 invalid:text-red-500 text-center"
            autofocus="false"
            autocomplete="off"
            maxlength="1"
            type="text"
            pattern="\d*"
            (keydown)="handleKeydownInOtpField($event, $index)"
            (focus)="handleFocus($event)"
            (paste)="handlePaste($event)"
          />
          }
        </div>
      </label>

      @if(showPasteDisabledMsg()){<small class="text-red-500 text-xs"
        >[Copy + paste for OTP is hard to do, hence is still a work in progress
        ðŸ˜ƒ]</small
      >}

      <bims-button
        [iconName]="submitBtnIconName"
        [iconSize]="submitBtnIconSize"
        label="Verify"
        [onClick]="verifyOtp"
        [isDisabled]="false"
      />
    </form>

    <div class="text-sm flex flex-col gap-3 mt-6 mb-4 opacity-60">
      <div class="flex gap-2 place-items-center">
        <span class="">Not received?</span>
        <a routerLink=".." class="underline underline-offset-4"
          >Step back and retry</a
        >
      </div>
    </div>
  </div>
</div>
